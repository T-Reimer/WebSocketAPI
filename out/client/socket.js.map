{"version":3,"file":"socket.js","sourceRoot":"","sources":["../../lib/client/socket.ts"],"names":[],"mappings":"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"}